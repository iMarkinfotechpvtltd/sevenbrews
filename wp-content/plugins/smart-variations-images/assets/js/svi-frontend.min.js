if(!WOOSVI){var WOOSVI={}}else{if(WOOSVI&&typeof WOOSVI!=="object"){throw new Error("WOOSVI is not an Object type")}}WOOSVI.isLoaded=false;WOOSVI.STARTS=function(e){var i=e(".variations_form");var c=i.data("product_variations");var d=e("div#woosvi_strap");var g=[];var f=d.hasClass("woosvi_lightbox");var a=d.hasClass("woosvi_lens");var b=d.hasClass("svihide_thumbs");var h=true;return{NAME:"Application initialize module",VERSION:3.3,init:function(){this.loadInits()},loadInits:function(){WOOSVI.STARTS.initImages()},runInits:function(){if(i.find(".variations select").length>0){WOOSVI.STARTS.getVariations();WOOSVI.STARTS.variationLoad();WOOSVI.STARTS.variationChange();WOOSVI.STARTS.variationReset()}else{e("div.svithumbnails,a.woocommerce-main-image").fadeIn()}if(f){WOOSVI.STARTS.prettyPhoto()}if(a){WOOSVI.STARTS.LoadLens()}},preventDefault:function(){e("div#woosvi_strap a").click(function(j){j.preventDefault()});e("div.product a").unbind("click.prettyphoto")},initImages:function(){if(i.find(".variations select").length<=0){h=false}e("#woosvi_strap").fadeIn();if(b&&h){e("a.woocommerce-main-image").hide().removeClass("hidden")}else{e("div.svithumbnails,a.woocommerce-main-image").hide().removeClass("hidden")}e("div.svithumbnails a").click(function(){WOOSVI.STARTS.initSwap(this)});WOOSVI.STARTS.runInits();WOOSVI.STARTS.preventDefault()},initRebuild:function(m){var l,k,o,n,j;l=e("div.svithumbnails").data("columns");j=e("div.svithumbnails").find('img[data-woosvi="'+m+'"]').size()-1;o=e("div.svithumbnails").find('img[data-woosvi="'+m+'"]').closest("a");e("div.svithumbnails").find("img").closest("a").show();e("div.svithumbnails").find("img").closest("a").attr("class","");e("div.svithumbnails").find('img:not([data-woosvi="'+m+'"])').closest("a").hide();o.each(function(q,p){k=[""];if(q===0||q%l===0){k.push("first")}if((q+1)%l===0){k.push("last")}if(q===j){k.push("last")}e(p).attr("class",k.join(" "));if(q==0){WOOSVI.STARTS.initSwap(p)}});WOOSVI.STARTS.preventDefault()},initSwap:function(j,l){var k=e(j).clone();var m=new Image();m.src=k.find("img").attr("src");e(m).on("load",function(){k.attr("class","woocommerce-main-image sviZoom");e("div#woosvimain").empty();e("div#woosvimain").prepend(k);WOOSVI.STARTS.preventDefault();if(f){WOOSVI.STARTS.prettyPhoto()}if(a){WOOSVI.STARTS.imgGalreset()}if(b&&h){if(l!=="initReset"){e("div.svithumbnails").hide().removeClass("hidden")}else{e("div.svithumbnails").hide().addClass("hidden")}}e("div.svithumbnails,a.woocommerce-main-image").fadeIn()})},initReset:function(){var k,j,l;k=e("div.svithumbnails").data("columns");l=e("div.svithumbnails").find("img").closest("a");e("div.svithumbnails").find("img").closest("a").show();e("div.svithumbnails").find("img").closest("a").attr("class","");l.each(function(n,m){j=["zoom"];if(n===0||n%k===0){j.push("first")}if((n+1)%k===0){j.push("last")}e(m).attr("class",j.join(" "));if(n==0){WOOSVI.STARTS.initSwap(m,"initReset")}});WOOSVI.STARTS.preventDefault();if(f){WOOSVI.STARTS.prettyPhoto()}if(a){WOOSVI.STARTS.imgGalreset()}},prettyPhoto:function(){if(!f){WOOSVI.STARTS.preventDefault();e("div.product a").unbind("click.prettyphoto");return}e("div.product a").unbind("click.prettyphoto");e("div#svi_mainslider a,div#woosvimain a").on("click",function(l){l.preventDefault();var k=e(this).attr("href");var n=e(this).attr("title");var j=[];var m=[];e("div#svi_mainslider a,div.svithumbnails a:visible").each(function(){var o=e(this).attr("href");if(o===""){o=e(this).data("o_href")}j.push(o);m.push(e(this).attr("title"))});if(e.isEmptyObject(j)){j.push(k);m.push(n)}e.prettyPhoto.open(j,m);e("div.pp_gallery").find('img[src="'+k+'"]').parent().trigger("click")})},LoadLens:function(){e("div.sviZoomContainer").remove();var j,l,k;j=e("div#woosvi_strap div#svi_mainslider .swiper-slide.swiper-slide-active img,div#woosvimain img");l=e("div#woosvi_strap").data();k={sviZoomType:"lens",lensShape:"round",lensSize:150};j.ezPlus(k)},imgGalreset:function(){e("div.sviZoomContainer").remove();WOOSVI.STARTS.LoadLens()},getVariations:function(){e.each(c,function(k,j){g.push(j.attributes.attribute_pa_color)})},variationLoad:function(){var j=false;e.each(i.find(".variations select"),function(k,m){var l=e(this).val().replace(/ /g,"").toLowerCase();if(l){j=e("div.svithumbnails").find('img[data-woosvi="'+l+'"]').length;if(j===0){return}WOOSVI.STARTS.initRebuild(l)}});if(!j){e("div.svithumbnails,a.woocommerce-main-image").fadeIn()}},variationChange:function(){var j,k,l;i.on("found_variation",function(n,m){e.each(m.attributes,function(q,p){var o=p.replace(/ /g,"").toLowerCase();if(o===""){WOOSVI.STARTS.variationLoad();return false}else{j=e("div.svithumbnails").find('img[data-woosvi="'+o+'"]').length;k=e("div.svithumbnails").find('img[data-woosvi="'+o+'"]').closest("a:visible").length;l=e("div.svithumbnails").find("img").closest("a:visible").length;if(j===0){return}if(k===j&&k===l){return}WOOSVI.STARTS.initRebuild(o)}})})},variationReset:function(){i.on("click",".reset_variations",function(j){WOOSVI.STARTS.initReset()})},}}(jQuery.noConflict());jQuery(document).ready(function(){WOOSVI.STARTS.init()});